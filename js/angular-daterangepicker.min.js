(function(){var h;h=angular.module("daterangepicker",[]);h.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}});h.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(h,v,w,u){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(e,g,h,f){var r,m,k,n,d,p,q,t,l,c;n=function(){var a,b;b=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(a){return null!==
a?a.locale:void 0}).filter(function(a){return!!a}));a=angular.extend.apply(angular,arguments);a.locale=b;return a};l=$(g);c=n({},u,e.opts);d=null;r=function(){d.setStartDate();return d.setEndDate()};g=function(a){return function(b){if(d&&b)return a(moment(b))}};q=g(function(a){d.endDate<a&&d.setEndDate(a);c.startDate=a;return d.setStartDate(a)});p=g(function(a){d.startDate>a&&d.setStartDate(a);c.endDate=a;return d.setEndDate(a)});k=function(a){return function(b,c){return b&&c?a(moment(b),moment(c)):
!0}};g=k(function(a,b){return a.isBefore(b)||a.isSame(b,"day")});t=k(function(a,b){return a.isAfter(b)||a.isSame(b,"day")});f.$formatters.push(function(a){var b;b=function(a){return moment.isMoment(a)?a.format(c.locale.format):moment(a).format(c.locale.format)};return c.singleDatePicker&&a?b(a):a&&a.startDate?[b(a.startDate),b(a.endDate)].join(c.locale.separator):""});f.$render=function(){f.$modelValue&&f.$modelValue.startDate?(q(f.$modelValue.startDate),p(f.$modelValue.endDate)):r();return l.val(f.$viewValue)};
f.$parsers.push(function(a){var b,d;b=function(a){return moment(a,c.locale.format)};d={startDate:null,endDate:null};angular.isString(a)&&0<a.length&&(c.singleDatePicker?d=b(a):(a=a.split(c.locale.separator).map(b),d.startDate=a[0].startOf("day"),d.endDate=a[1].endOf("day")));return d});f.$isEmpty=function(a){return!(angular.isString(a)&&0<a.length)};m=function(){var a,b;l.daterangepicker(angular.extend(c,{autoUpdateInput:!1}),function(a,b){return e.$apply(function(){return e.model==c.singleDatePicker?
a:{startDate:a,endDate:b}})});d=l.data("daterangepicker");b=[];for(a in c.eventHandlers)b.push(l.on(a,function(a){return e.$evalAsync(c.eventHandlers[a.type+"."+a.namespace])}));return b};m();e.$watch("model.startDate",function(a){return q(a)});e.$watch("model.endDate",function(a){return p(a)});k=function(a,b,d,g){if(h[a])return f.$validators[a]=function(a){return a&&b(c[g],a[d])},e.$watch(a,function(a){c[g]=a?moment(a):!1;return m()})};k("min",g,"startDate","minDate");k("max",t,"endDate","maxDate");
h.options&&e.$watch("opts",function(a){c=n(c,a);return m()},!0);h.clearable&&e.$watch("clearable",function(a){a&&(c=n(c,{locale:{cancelLabel:c.clearLabel}}));m();if(a)return l.on("cancel.daterangepicker",function(){return e.$apply(function(){return e.model==c.singleDatePicker?null:{startDate:null,endDate:null}})})});return e.$on("$destroy",function(){return null!==d?d.remove():void 0})}}}])}).call(this);
